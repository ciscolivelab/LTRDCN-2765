
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.11">
    
    
      
        <title>Blocks Extension API - Cisco Live 2023 LTRDCN-2765</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.85bb2934.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#blocks-extension-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="Cisco Live 2023 LTRDCN-2765" class="md-header__button md-logo" aria-label="Cisco Live 2023 LTRDCN-2765" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cisco Live 2023 LTRDCN-2765
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Blocks Extension API
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ciscolivelab/LTRDCN-2765" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../intro/" class="md-tabs__link">
        Lab Overview
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../Task1-ansible-node0/" class="md-tabs__link">
        Lab Guide
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="Cisco Live 2023 LTRDCN-2765" class="md-nav__button md-logo" aria-label="Cisco Live 2023 LTRDCN-2765" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Cisco Live 2023 LTRDCN-2765
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ciscolivelab/LTRDCN-2765" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../..">Home</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Lab Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Lab Overview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../intro/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Lab Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Lab Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../Task1-ansible-node0/" class="md-nav__link">
        Task 1 - Prepare Ansible node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../task2-first-ansible/" class="md-nav__link">
        Task 2 - First Simple Ansible Playbook
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../task3-vxlan-jinja2-new/" class="md-nav__link">
        Task 3 - Use of Jinja2 templates with Ansible Playbook
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../task4-vxlan-nxos/" class="md-nav__link">
        Task 4 - Config switches using Ansible NXOS modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../task5-day2-pipeline0/" class="md-nav__link">
        Task 5 - Day 2 Opertions with CI Pipeline
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#block-structure" class="md-nav__link">
    Block Structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#block-extension-anatomy" class="md-nav__link">
    Block Extension Anatomy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-block-object" class="md-nav__link">
    The Block Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#global-options" class="md-nav__link">
    Global Options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tracking-data-across-blocks" class="md-nav__link">
    Tracking Data Across Blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-markdown-object" class="md-nav__link">
    Accessing the Markdown Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#argument" class="md-nav__link">
    Argument
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is_raw" class="md-nav__link">
    is_raw
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is_block" class="md-nav__link">
    is_block
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#html_escape" class="md-nav__link">
    html_escape
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on_init-event" class="md-nav__link">
    on_init Event
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on_validate-event" class="md-nav__link">
    on_validate Event
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on_create-event" class="md-nav__link">
    on_create Event
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on_add-event" class="md-nav__link">
    on_add Event
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on_markdown-event" class="md-nav__link">
    on_markdown Event
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on_end-event" class="md-nav__link">
    on_end Event
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on_inline_end-event" class="md-nav__link">
    on_inline_end Event
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#built-in-validators" class="md-nav__link">
    Built-in Validators
  </a>
  
    <nav class="md-nav" aria-label="Built-in Validators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type_any" class="md-nav__link">
    type_any
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_none" class="md-nav__link">
    type_none
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_number" class="md-nav__link">
    type_number
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_integer" class="md-nav__link">
    type_integer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_ranged_number" class="md-nav__link">
    type_ranged_number
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_ranged_integer" class="md-nav__link">
    type_ranged_integer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_boolean" class="md-nav__link">
    type_boolean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_ternary" class="md-nav__link">
    type_ternary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_string" class="md-nav__link">
    type_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_insensitive_string" class="md-nav__link">
    type_insensitive_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_string_in" class="md-nav__link">
    type_string_in
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_string_delimiter" class="md-nav__link">
    type_string_delimiter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_html_identifier" class="md-nav__link">
    type_html_identifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_html_classes" class="md-nav__link">
    type_html_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_html_attribute_dict" class="md-nav__link">
    type_html_attribute_dict
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type_multi" class="md-nav__link">
    type_multi
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="blocks-extension-api">Blocks Extension API<a class="headerlink" href="#blocks-extension-api" title="Permanent link"></a></h1>
<h2 id="block-structure">Block Structure<a class="headerlink" href="#block-structure" title="Permanent link"></a></h2>
<p>The various different block types are created via the <code>Block</code> class. The <code>Block</code> class can define all the various parts
and handling of the various block parts. The basic structure of a block is shown below:</p>
<div class="highlight"><pre><span></span><code>/// name | argument
    options: per block options

Markdown content.
///
</code></pre></div>
<h2 id="block-extension-anatomy">Block Extension Anatomy<a class="headerlink" href="#block-extension-anatomy" title="Permanent link"></a></h2>
<p>Normally with Python Markdown, you'd create a processor derived from the various processor types available in the
library. You'd then derive an extension from <code>markdown.Extension</code> that would register the the processor. Block
extensions are very similar.</p>
<p>A Block extension is comprised of two parts: the <code>Block</code> object and the <code>BlocksExtension</code>. It should be noted that we do
not use <code>markdown.Extension</code>, but <code>BlocksExtension</code> which is derived from it. This is done so we can abstract away the
management of all the various registered <code>Block</code> extensions. It is important to note though that when using the
<code>BlocksExtension</code> that we do not override the <code>extendMarkdown</code> method, but instead override <code>extendMarkdownBlocks</code>. In
all other respects, <code>BlocksExtension</code> is just like <code>markdown.Extension</code> and you can register traditional processors via
the <code>md</code> object or register <code>Block</code> objects via the <code>block_mgr</code> object.</p>
<p>Below we have the very bare minimum required to create an extension.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pymdownx.blocks</span> <span class="kn">import</span> <span class="n">BlocksExtension</span>
<span class="kn">from</span> <span class="nn">pymdownx.blocks.block</span> <span class="kn">import</span> <span class="n">Block</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">etree</span>

<span class="k">class</span> <span class="nc">MyBlock</span><span class="p">(</span><span class="n">Block</span><span class="p">):</span>
    <span class="n">NAME</span> <span class="o">=</span> <span class="s1">&#39;my-block&#39;</span>

    <span class="k">def</span> <span class="nf">on_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>

        <span class="k">return</span> <span class="n">etree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">MyBlockExtension</span><span class="p">(</span><span class="n">BlocksExtension</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">extendMarkdownBlocks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md</span><span class="p">,</span> <span class="n">block_mgr</span><span class="p">):</span>

        <span class="n">block_mgr</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">MyBlock</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getConfigs</span><span class="p">())</span>


<span class="k">def</span> <span class="nf">makeExtension</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return extension.&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">MyBlockExtension</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
<p>Then we can register and run it:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">markdown</span>

<span class="n">MD</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">/// my-block</span>
<span class="s2">content</span>
<span class="s2">///</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">markdown</span><span class="o">.</span><span class="n">markdown</span><span class="p">(</span><span class="n">MD</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="p">[</span><span class="n">MyBlockExtension</span><span class="p">()]))</span>
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>content<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<h2 id="the-block-object">The Block Object<a class="headerlink" href="#the-block-object" title="Permanent link"></a></h2>
<p>The block object allows us to define the name of a block, whether an argument and/or options are allowed, and how we
generally handle the content.</p>
<h2 id="global-options">Global Options<a class="headerlink" href="#global-options" title="Permanent link"></a></h2>
<p>Global options are often set in the <code>BlocksExtension</code> object like traditional extensions. They are meant to globally
control the behavior of a specific block type:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AdmonitionExtension</span><span class="p">(</span><span class="n">BlocksExtension</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Admonition Blocks Extension.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize.&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;types&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">[</span><span class="s1">&#39;note&#39;</span><span class="p">,</span> <span class="s1">&#39;attention&#39;</span><span class="p">,</span> <span class="s1">&#39;caution&#39;</span><span class="p">,</span> <span class="s1">&#39;danger&#39;</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;tip&#39;</span><span class="p">,</span> <span class="s1">&#39;hint&#39;</span><span class="p">,</span> <span class="s1">&#39;warning&#39;</span><span class="p">],</span>
                <span class="s2">&quot;Generate Admonition block extensions for the given types.&quot;</span>
            <span class="p">]</span>
        <span class="p">}</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
<p>These options are available in the instantiated <code>Block</code> object via the <code>self.config</code> attribute.</p>
<h2 id="tracking-data-across-blocks">Tracking Data Across Blocks<a class="headerlink" href="#tracking-data-across-blocks" title="Permanent link"></a></h2>
<p>There are times when it can be useful to store data across multiple blocks. Each block instance has access to a tracker
that is specific to a specific block type and persists across all blocks. It is only cleared when <code>reset</code> is called on
the <code>Markdown</code> object.</p>
<p>The tracker is accessed by a given <code>Block</code> extension via the <code>self.tracker</code> attribute. The attribute contains a
dictionary where various keys and values can be stored. This can be used to count blocks on a page or anything else you
can think of.</p>
<h2 id="accessing-the-markdown-object">Accessing the Markdown Object<a class="headerlink" href="#accessing-the-markdown-object" title="Permanent link"></a></h2>
<p>Some plugins occasionally need access to the current Markdown object. If this is needed, it can be accessed via the
class attribute <code>self.md</code>.</p>
<h2 id="argument">Argument<a class="headerlink" href="#argument" title="Permanent link"></a></h2>
<p>The argument is used to declare a common block specific input for a particular block type. This is often, but not
exclusively, used for things like titles. It is specified on the same line as the initial block deceleration.</p>
<p>Blocks are not required to use an argument and it is not required by default and must be declared as either optional or
required in order for the block to accept an argument. An argument is declared by setting <code>ARGUMENT</code> to <code class="highlight"><span class="kc">True</span></code> if
it is required, <code class="highlight"><span class="kc">None</span></code> if it is optionally allowed, or <code class="highlight"><span class="kc">False</span></code> if it is not allowed.</p>
<p>The argument is always parsed as a single string, if it is desired to validate the format of the argument or even to
process it as multiple arguments, this can be done in the <a href="#on_validate-event"><code>on_validate</code> event</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyBlock</span><span class="p">(</span><span class="n">Block</span><span class="p">):</span>
    <span class="c1"># Name used for the block</span>
    <span class="n">NAME</span> <span class="o">=</span> <span class="s1">&#39;my-block&#39;</span>
    <span class="n">ARGUMENT</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
<h2 id="options">Options<a class="headerlink" href="#options" title="Permanent link"></a></h2>
<p>Options is how a block specifies any per block features via an indented YAML block immediately after the block
declaration. The YAML indented block is considered a part of the header and is great for options that don't make sense
as part of the first line declaration.</p>
<p>An option consists of a keyword to specify the option name, and then a list containing the default value and a validator
callback. The callback function should take the input and validate the type and/or coerce the value to an appropriate
value. If the input, for whatever reason, is deemed invalid, the callback function should raise an error.</p>
<p>After processing, all options will be available as a dictionary via the instance attribute <code>self.options</code>. Options
will be accessible via the keyword and will return the resolved value.</p>
<div class="admonition tip">
<p class="admonition-title">Built-in validators</p>
<p>A number of Built-in validators are provided. Check out <a href="#built-in-validators">Built-in Validators</a> to learn more,
or feel free to write your own.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyBlock</span><span class="p">(</span><span class="n">Block</span><span class="p">):</span>
    <span class="c1"># Name used for the block</span>
    <span class="n">NAME</span> <span class="o">=</span> <span class="s1">&#39;my-block&#39;</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;tag_name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">type_html_indentifier</span><span class="p">]</span>
    <span class="p">}</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>attrs</code> is a reserved option that is automatically applied to all <code>Block</code> extensions. This should not be overridden.
<code>attrs</code> takes a dictionary of <code>str</code> keys  and <code>str</code> values describing the attributes to apply to the outer element of
the block as returned by the <a href="#on_create-event"><code>on_create</code></a>.</p>
<p>The <code>attrs</code> input input is sent through <a href="#type_html_attribute_dict"><code>type_html_attribute_dict</code></a> and is accessible to
developers via <code>self.options['attrs']</code>. The result is a dictionary of key/value pairs where the key is a <code class="highlight"><span class="nb">str</span></code> and
the value is a <code class="highlight"><span class="nb">str</span></code> (or <code class="highlight"><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code> in the special case of <code>class</code>).</p>
</div>
<h2 id="is_raw"><code>is_raw</code><a class="headerlink" href="#is_raw" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="n">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>This method, given a tag will determine if the block should be considered a "raw" tag based on the Blocks extension's
internal logic.</p>
<h2 id="is_block"><code>is_block</code><a class="headerlink" href="#is_block" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="n">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>This method, given a tag will determine if the block should be considered a "block" tag based on the Blocks extension's
internal logic.</p>
<h2 id="html_escape"><code>html_escape</code><a class="headerlink" href="#html_escape" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">html_escape</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a string intended for an HTML tag's content and returns it after applying HTML escaping on it. Escapes <code>&amp;</code>, <code>&lt;</code>,
and <code>&gt;</code>.</p>
<h2 id="on_init-event"><code>on_init</code> Event<a class="headerlink" href="#on_init-event" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">on_init</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>The <code>on_init</code> event is run every time a new block class is instantiated. This is usually where a specific block type
would handle global options and initialize class variables that are needed. If the specified block name in Markdown
matches the name of a registered block, that block class will be instantiated, triggering the <code>on_init</code> event to
execute. Each block in a document that is encountered generates its own, new instance.</p>
<p>Only the global <code>config</code> is available at this time via <code>self.config</code>. The <code>Markdown</code> object is also available via
<code>self.md</code>.</p>
<p>The can be a good way to perform setup based on on global or local options.</p>
<h2 id="on_validate-event"><code>on_validate</code> Event<a class="headerlink" href="#on_validate-event" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">on_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Executed right after the per block argument and option parsing occurs. The argument and options are accessible via
<code>self.argument</code> and <code>self.options</code>. <code>parent</code> is the current parent element.</p>
<p><code>on_validate</code> is a hook meant to allow the developer to invalidate a block if the options, argument, or even the parent
element do not meet some arbitrary criteria. This hook can also be used to make adjustments variables and even do some
initialization of class variables based on the results of specific options, arguments, or even the parent element.</p>
<p>If validation fails, <code class="highlight"><span class="kc">False</span></code> should be returned and the block will not be parsed as a generic block.</p>
<h2 id="on_create-event"><code>on_create</code> Event<a class="headerlink" href="#on_create-event" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">on_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Element</span><span class="p">:</span>
        <span class="o">...</span>
</code></pre></div>
<p>Called when a block is initially found and initialized. The <code>on_create</code> method should create the container for the block
under the parent element. Other child elements can be created on the root of the container, but outer element of the
created container should be returned.</p>
<h2 id="on_add-event"><code>on_add</code> Event<a class="headerlink" href="#on_add-event" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">on_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">block</span><span class="p">:</span> <span class="n">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Element</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>When any calls occur to process new content, <code>on_add</code> is called. This gives the block a chance to return the element
where the content is desired.</p>
<p>This can be useful if the outer element is not the element where the content should go. Keep in mind that content can
also be rearranged if needed in the <a href="#on_end-event"><code>on_end</code> event</a>.</p>
<h2 id="on_markdown-event"><code>on_markdown</code> Event<a class="headerlink" href="#on_markdown-event" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">on_markdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check how element should be treated by the Markdown parser.&quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div>
<p>The <code>on_markdown</code> event is used to declare how the content of the block should be handled by the Markdown parser. A
string with one of the following values <em>must</em> be returned. All content is treated as HTML content and is stored under
the <a href="https://docs.python.org/3/library/xml.etree.elementtree.html">etree</a> element returned via the <a href="#on_add-event"><code>on_add</code> event</a>.</p>
<p>Only during the <a href="#on_end-event"><code>on_end</code> event</a> will all the content be fully accumulated and processed by relevant
block processors, and only during the <a href="#on_inline_end-event"><code>on_inline_end</code> event</a> will both block and inline
processing be completed.</p>
<table>
<thead>
<tr>
<th>Result&nbsp;Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>block</code></td>
<td>Parsed block content will be handled by the Markdown parser as content under a block element.</td>
</tr>
<tr>
<td><code>inline</code></td>
<td>Parsed block content will be handled by the Markdown parser as content under an inline element.</td>
</tr>
<tr>
<td><code>raw</code></td>
<td>Parsed block content will be preserved as is. No additional Markdown parsing will be applied. Content is expected to be indented and should be documented as such.</td>
</tr>
<tr>
<td><code>auto</code></td>
<td>Depending on whether the wrapping parent is a block element, inline element, or something like a code element, Blocks will choose the best approach for the content. Decision is made based on the element returned by the <a href="#on_add-event"><code>on_add</code> event</a>.</td>
</tr>
</tbody>
</table>
<p>When using <code>raw</code> mode, all text will be accumulated under the specified element as an <a href="https://python-markdown.github.io/extensions/api/#working_with_et"><code>AtomicString</code></a>. If
nothing is done with the content during the <a href="#on_end-event"><code>on_end</code> event</a>, all the content will be HTML escaped by the
Python Markdown parser. If desired, the content can be placed into the Python Markdown <a href="https://python-markdown.github.io/extensions/api/#working_with_raw_html">HTML stash</a> which will
protect it from any other rouge Treeprocessors. Keep in mind, if the content is stashed HTML escaping will not be
applied automatically, so HTML escape if it is required.</p>
<div class="admonition warning">
<p class="admonition-title">Indent Raw Content</p>
<p>Because Python Markdown implements HTML processing as a preprocessor, content for a <code>raw</code> block must be indented 4
spaces to avoid the HTML processing step. The content will not be indented when it reaches the <a href="#on_end-event"><code>on_end</code> event</a>.
Failure to indent will still allow the code to be processed, but it may not process as expected. An extension that uses
<code>raw</code> should make clear that this is a requirement to avoid unexpected results.</p>
</div>
<h2 id="on_end-event"><code>on_end</code> Event<a class="headerlink" href="#on_end-event" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">on_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">block</span><span class="p">:</span> <span class="n">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>When a block is parsed to completion, the <code>on_end</code> event is executed. This allows an extension to perform any post
processing on the elements. You could save the data as raw text and then parse it special at the end or you could walk
the HTML elements and move content around, add attributes, or whatever else is needed.</p>
<h2 id="on_inline_end-event"><code>on_inline_end</code> Event<a class="headerlink" href="#on_inline_end-event" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">on_inline_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">block</span><span class="p">:</span> <span class="n">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>When a block is parsed to completion and all inline parsing has been applied, the <code>on_inline_end</code> event is executed. It
is the very last event for a block. This allows an extension to perform any post processing on an element <em>after</em> inline
processing.</p>
<h2 id="built-in-validators">Built-in Validators<a class="headerlink" href="#built-in-validators" title="Permanent link"></a></h2>
<p>A number of validators are provided via for the purpose of validating <a href="#options">YAML option inputs</a>. If what you need
is not present, feel free to write your own. All validators are imported from <code>pymdownx.blocks.block</code>.</p>
<h3 id="type_any"><code>type_any</code><a class="headerlink" href="#type_any" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_any</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>This takes a YAML input and simply passes it through. If you do not want to validate the input because it does not need
to be checked, or if you just want to do it manually in the <a href="#on_validate-event"><code>on_validate</code> event</a>, then this is what
you'd want to use.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">[{},</span> <span class="n">type_any</span><span class="p">]}</span>
</code></pre></div>
<h3 id="type_none"><code>type_none</code><a class="headerlink" href="#type_none" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_none</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>This takes a YAML input and ensures it is <code>None</code> (or <code>null</code>) in YAML. This is most useful paired with other types to
indicate the option is "unset". See <a href="#type_multi"><code>type_multi</code></a> to learn how to combine multiple existing types.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">none</span><span class="p">,</span> <span class="n">type_multi</span><span class="p">(</span><span class="n">type_none</span><span class="p">,</span> <span class="n">type_string</span><span class="p">)]}</span>
</code></pre></div>
<h3 id="type_number"><code>type_number</code><a class="headerlink" href="#type_number" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_number</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a YAML input value and verifies that it is a <code>float</code> or <code>int</code>.</p>
<p>Returns the valid number (<code>float</code> or <code>int</code>) or raises a <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">type_number</span><span class="p">]}</span>
</code></pre></div>
<h3 id="type_integer"><code>type_integer</code><a class="headerlink" href="#type_integer" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_integer</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a YAML input value and verifies that it is an <code>int</code>.</p>
<p>Returns the valid <code>int</code> or raises a <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">type_integer</span><span class="p">]}</span>
</code></pre></div>
<h3 id="type_ranged_number"><code>type_ranged_number</code><a class="headerlink" href="#type_ranged_number" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_ranged_number</span><span class="p">(</span><span class="n">minimum</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">maximum</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Any</span><span class="p">],</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]:</span>
</code></pre></div>
<p>Takes a <code>minimum</code> and/or <code>maximum</code> and returns a type function that accepts an input and validates that it is a number
(<code>float</code> or <code>int</code>) that is within the specified range. If <code class="highlight"><span class="kc">None</span></code> is provided for either <code>minimum</code> or <code>maximum</code>,
they will be unbounded.</p>
<p>Returns the valid number (<code>float</code> or <code>int</code>) or raises a <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">type_ranged_number</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">)]}</span>
</code></pre></div>
<h3 id="type_ranged_integer"><code>type_ranged_integer</code><a class="headerlink" href="#type_ranged_integer" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_ranged_integer</span><span class="p">(</span><span class="n">minimum</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">maximum</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Any</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a <code>minimum</code> and/or <code>maximum</code> and returns a type function that accepts an input and validates that it is an <code>int</code>
that is within the specified range. If <code class="highlight"><span class="kc">None</span></code> is provided for either <code>minimum</code> or <code>maximum</code>, they will be
unbounded.</p>
<p>Returns the valid <code>int</code> or raises a <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">type_ranged_integer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)]}</span>
</code></pre></div>
<h3 id="type_boolean"><code>type_boolean</code><a class="headerlink" href="#type_boolean" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_boolean</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a YAML input and validates that it is a boolean value.</p>
<p>Returns the valid boolean or raises a <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="n">type_boolean</span><span class="p">]}</span>
</code></pre></div>
<h3 id="type_ternary"><code>type_ternary</code><a class="headerlink" href="#type_ternary" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_ternary</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a YAML input and validates that it is a <code>bool</code> value or <code class="highlight"><span class="kc">None</span></code>.</p>
<p>Returns the valid <code>bool</code> or <code class="highlight"><span class="kc">None</span></code> or raises a <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">type_ternary</span><span class="p">]}</span>
</code></pre></div>
<h3 id="type_string"><code>type_string</code><a class="headerlink" href="#type_string" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_string</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a YAML input and validates that it is a <code>str</code> value.</p>
<p>Returns the valid <code>str</code> or raises a <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">type_string</span><span class="p">]}</span>
</code></pre></div>
<h3 id="type_insensitive_string"><code>type_insensitive_string</code><a class="headerlink" href="#type_insensitive_string" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_insensitive_string</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a YAML input and validates that it is a <code>str</code> value and normalizes it by lower casing it.</p>
<p>Returns the valid, lowercase <code>str</code> or raises a <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">type_insensitive_string</span><span class="p">]}</span>
</code></pre></div>
<h3 id="type_string_in"><code>type_string_in</code><a class="headerlink" href="#type_string_in" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_string_in</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">insensitive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a list of acceptable string inputs and a boolean indicating whether comparison should be case insensitive. Returns
a type function that takes an input and then validates that it is a <code>str</code> and that the <code>str</code> value is found in the
acceptable string list.</p>
<p>Returns the valid <code>str</code> or raises a <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;this&#39;</span><span class="p">,</span> <span class="n">type_string_in</span><span class="p">([</span><span class="s1">&#39;this&#39;</span><span class="p">,</span> <span class="s1">&#39;that&#39;</span><span class="p">],</span> <span class="n">type_insensitive_string</span><span class="p">)]}</span>
</code></pre></div>
<h3 id="type_string_delimiter"><code>type_string_delimiter</code><a class="headerlink" href="#type_string_delimiter" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_string_delimiter</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">string_type</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">type_string</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a delimiter and string type callback and returns a function that takes an input, verifies that it is a <code>str</code>,
splits it by the delimiter, and ensures that each part validates with the given string type callback.</p>
<p>Returns a list of valid <code>str</code> values or raises a <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">type_string_delimiter</span><span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">type_insensitive_string</span><span class="p">)]}</span>
</code></pre></div>
<h3 id="type_html_identifier"><code>type_html_identifier</code><a class="headerlink" href="#type_html_identifier" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_html_identifier</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Tests that a string is an "identifier" as described in CSS. This would normally match tag names, IDs, classes, and
attribute names. This is useful if you'd like to validate such HTML constructs.</p>
<p>Returns a <code>str</code> that is a valid identifier or raises <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">type_html_indentifier</span><span class="p">]}</span>
</code></pre></div>
<h3 id="type_html_classes"><code>type_html_classes</code><a class="headerlink" href="#type_html_classes" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_html_classes</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a YAML input value and verifies that it is a <code>str</code> and treats it as a space delimited input. The input will
be split by spaces and each part will be run through <code>type_html_identifier</code>.</p>
<p>Returns a list of <code>str</code> that are valid CSS classes or raises <code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyword&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">type_html_classes</span><span class="p">]}</span>
</code></pre></div>
<h3 id="type_html_attribute_dict"><code>type_html_attribute_dict</code><a class="headerlink" href="#type_html_attribute_dict" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_html_classes</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="o">...</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The returned dictionary will have all values set to string except classes which will be a list of strings. The <code>class</code>
attribute is processed with <code>type_html_classes</code>.</p>
<p>The <code>id</code> attribute is also run through <code>type_html_identifier</code> to ensure a good ID that can be targeted with traditional
CSS selectors: <code class="highlight"><span class="c1">#id</span></code>.</p>
</div>
<p>Takes a YAML input value and verifies that it is a <code>dict</code>. Keys will be verified to be HTML identifiers and the values
to be strings.</p>
<p>Returns a <code>dict[str, Any]</code> where the values will either be <code>str</code> or <code>list[str]</code> as previously noted or raises
<code>ValueError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Block</span><span class="p">:</span>
    <span class="n">OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">[{},</span> <span class="n">type_html_attribute_dict</span><span class="p">]}</span>
</code></pre></div>
<h2 id="type_multi"><code>type_multi</code><a class="headerlink" href="#type_multi" title="Permanent link"></a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">type_multi</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Any</span><span class="p">],</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Takes a multiple type functions and returns a single type function that takes a YAML input and validates it with all the
provided type functions. If the input fails all the validation functions, a <code>ValueError</code> is raised.</p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.indexes", "toc.follow", "content.tabs.link", "search.share", "search.highlight", "search.suggest", "content.code.copy", "content.code.annotations"], "search": "../../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.fac441b0.min.js"></script>
      
    
  </body>
</html>