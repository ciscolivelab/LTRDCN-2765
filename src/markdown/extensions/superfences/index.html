
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.11">
    
    
      
        <title>Superfences - Cisco Live 2023 LTRDCN-2765</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.85bb2934.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#superfences" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Cisco Live 2023 LTRDCN-2765" class="md-header__button md-logo" aria-label="Cisco Live 2023 LTRDCN-2765" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cisco Live 2023 LTRDCN-2765
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Superfences
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ciscolivelab/LTRDCN-2765" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../intro/" class="md-tabs__link">
        Lab Overview
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../Task1-ansible-node0/" class="md-tabs__link">
        Lab Guide
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Cisco Live 2023 LTRDCN-2765" class="md-nav__button md-logo" aria-label="Cisco Live 2023 LTRDCN-2765" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Cisco Live 2023 LTRDCN-2765
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ciscolivelab/LTRDCN-2765" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../..">Home</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Lab Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Lab Overview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../intro/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Lab Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Lab Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Task1-ansible-node0/" class="md-nav__link">
        Task 1 - Prepare Ansible node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../task2-first-ansible/" class="md-nav__link">
        Task 2 - First Simple Ansible Playbook
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../task3-vxlan-jinja2-new/" class="md-nav__link">
        Task 3 - Use of Jinja2 templates with Ansible Playbook
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../task4-vxlan-nxos/" class="md-nav__link">
        Task 4 - Config switches using Ansible NXOS modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../task5-day2-pipeline0/" class="md-nav__link">
        Task 5 - Day 2 Opertions with CI Pipeline
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nested-fence-format" class="md-nav__link">
    Nested Fence Format
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#injecting-classes-ids-and-attributes" class="md-nav__link">
    Injecting Classes, IDs, and Attributes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preserve-tabs" class="md-nav__link">
    Preserve Tabs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-highlighting" class="md-nav__link">
    Code Highlighting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#showing-line-numbers" class="md-nav__link">
    Showing Line Numbers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#highlighting-lines" class="md-nav__link">
    Highlighting Lines
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-block-title-headers" class="md-nav__link">
    Code Block Title Headers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pygments-line-anchors-and-spans" class="md-nav__link">
    Pygments Line Anchors and Spans
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-fences" class="md-nav__link">
    Custom Fences
  </a>
  
    <nav class="md-nav" aria-label="Custom Fences">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#formatters" class="md-nav__link">
    Formatters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validators" class="md-nav__link">
    Validators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exception-handling" class="md-nav__link">
    Exception Handling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uml-diagram-example" class="md-nav__link">
    UML Diagram Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    Limitations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<p><a class="source-link" href="https://github.com/facelessuser/pymdown-extensions/blob/master/pymdownx/superfences.py" title="Source"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 3a2 2 0 0 1 2-2h9.982a2 2 0 0 1 1.414.586l4.018 4.018A2 2 0 0 1 21 7.018V21a2 2 0 0 1-2 2H4.75a.75.75 0 0 1 0-1.5H19a.5.5 0 0 0 .5-.5V8.5h-4a2 2 0 0 1-2-2v-4H5a.5.5 0 0 0-.5.5v6.25a.75.75 0 0 1-1.5 0Zm12-.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0-.146-.336l-4.018-4.018A.5.5 0 0 0 15 2.5Z"/><path d="M4.53 12.24a.75.75 0 0 1-.039 1.06l-2.639 2.45 2.64 2.45a.75.75 0 1 1-1.022 1.1l-3.23-3a.75.75 0 0 1 0-1.1l3.23-3a.75.75 0 0 1 1.06.04Zm3.979 1.06a.75.75 0 1 1 1.02-1.1l3.231 3a.75.75 0 0 1 0 1.1l-3.23 3a.75.75 0 1 1-1.021-1.1l2.639-2.45-2.64-2.45Z"/></svg></span></a></p>
<h1 id="superfences">SuperFences<a class="headerlink" href="#superfences" title="Permanent link"></a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link"></a></h2>
<p>SuperFences provides a number of features:</p>
<ol>
<li>Allowing the <a href="#nested-fence-format">nesting of fences</a> under blockquotes, lists, or other block elements (see
  <a href="#limitations">Limitations</a> for more info).</li>
<li>Ability to specify <a href="#custom-fences">custom fences</a> to provide features like flowcharts, sequence diagrams, or other
  custom blocks.</li>
<li>Allow disabling of indented code blocks in favor of only using the fenced variant (off by default).</li>
<li>Experimental feature that preserves tabs within a code block instead of converting them to spaces which is Python
  Markdown's default behavior.</li>
</ol>
<div class="admonition danger">
<p class="admonition-title">Reminder</p>
<p>Remember to read the <a href="../../usage_notes/">Usage Notes</a> for information that may be relevant when using this
extension!</p>
</div>
<p>The SuperFences extension can be included in Python Markdown by using the following:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">markdown</span>
<span class="n">md</span> <span class="o">=</span> <span class="n">markdown</span><span class="o">.</span><span class="n">Markdown</span><span class="p">(</span><span class="n">extensions</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;pymdownx.superfences&#39;</span><span class="p">])</span>
</code></pre></div>
<h2 id="nested-fence-format">Nested Fence Format<a class="headerlink" href="#nested-fence-format" title="Permanent link"></a></h2>
<ol>
<li>
<p>Start and end fence boundaries are specified with either 3 or more backticks or tildes.</p>
</li>
<li>
<p>Start and end fence boundaries must both use matching symbols (backticks or tildes) and must be of the same number of
  symbols.  If start is 3 backticks, the fence will end with 3 backticks.</p>
</li>
<li>
<p>Start and end fence boundaries must be aligned to the same indentation level.</p>
</li>
<li>
<p>Content between fences must be indented at least the same amount as the start and end boundaries.  Empty lines are
  exempted.</p>
</li>
<li>
<p>If you are using a fenced block inside a blockquote, at the very least, the first line of the fenced block needs to
  have the appropriate number of <code>&gt;</code> characters signifying the quote depth.</p>
<div class="highlight"><pre><span></span><code>&gt; ```
  a fenced block
  ```
</code></pre></div>
</li>
<li>
<p>Too many blank lines will cause a blockquote to terminate, so remember to use <code>&gt;</code> markers accordingly if not marking
  every line.</p>
<div class="highlight"><pre><span></span><code>&gt; ```
  a fenced block

&gt; with blank lines
  ```
</code></pre></div>
</li>
<li>
<p>If using a fenced block as the first line of a list, you will have to leave the first line blank, but remember that
  the list marker must be immediately followed by at least one space. To avoid accidentally deleting the space and to
  make your intentions clear, you might want to also add an explicit unicode space (<code>&amp;#32;</code>) as shown here:</p>
<div class="highlight"><pre><span></span><code>- &amp;#32;
    ```
    a fenced block
    ```

Definition
: &amp;#32;
    ```
    a fenced block
    ```
</code></pre></div>
</li>
<li>
<p>Fenced blocks should be separated from other blocks by an empty line.</p>
<div class="highlight"><pre><span></span><code>Paragraph.

```
a fenced block
```

Another paragraph.
</code></pre></div>
</li>
</ol>
<h2 id="injecting-classes-ids-and-attributes">Injecting Classes, IDs, and Attributes<a class="headerlink" href="#injecting-classes-ids-and-attributes" title="Permanent link"></a></h2>
<p>You can use the brace format to specify classes and IDs. The first provided class is always used as the language class.
IDs (<code>#id</code>) can also be inserted as well. Arbitrary attributes in the form <code>key="value"</code> can be inserted as well if
the <a href="https://python-markdown.github.io/extensions/attr_list/"><code>attr_list</code></a> extension is enabled, but when using Pygments, only <code>key="value"</code> attributes that start
with the <code>data-</code> prefix will be recognized, all others will be treated as options for Pygments and will be rejected if
not valid.</p>
<div class="highlight"><span class="filename">Injecting Classes</span><pre><span></span><code>```{.python .extra-class linenums=&quot;1&quot;}
import hello_world
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;extra-class highlight&quot;</span><span class="p">&gt;&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;highlighttable&quot;</span><span class="p">&gt;&lt;</span><span class="nt">tr</span><span class="p">&gt;&lt;</span><span class="nt">td</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;linenos&quot;</span><span class="p">&gt;&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;linenodiv&quot;</span><span class="p">&gt;&lt;</span><span class="nt">pre</span><span class="p">&gt;&lt;</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">pre</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">td</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;code&quot;</span><span class="p">&gt;&lt;</span><span class="nt">div</span><span class="p">&gt;&lt;</span><span class="nt">pre</span><span class="p">&gt;&lt;</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;</span><span class="nt">code</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">cv</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">td</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;code&quot;</span><span class="p">&gt;&lt;</span><span class="nt">div</span><span class="p">&gt;&lt;</span><span class="nt">pre</span><span class="p">&gt;&lt;</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;</span><span class="nt">code</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;kn&quot;</span><span class="p">&gt;</span>import<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">spanlass</span><span class="err">=&quot;</span><span class="na">kn</span><span class="err">&quot;</span><span class="p">&gt;</span>import<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nn&quot;</span><span class="p">&gt;</span>hello_world<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>\n<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>\n<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;/</span><span class="nt">tr</span><span class="p">&gt;&lt;/</span><span class="nt">table</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<p>When generating additional classes on a JavaScript style code block (non-Pygments code blocks), classes are injected in
the <code class="highlight">code</code> block.</p>
<div class="highlight"><span class="filename">Non-Pygments Injecting Classes</span><pre><span></span><code>```{.python .extra-class #id linenums=&quot;1&quot;}
import hello_world
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">pre</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;id&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;highlight&quot;</span><span class="p">&gt;&lt;</span><span class="nt">code</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;extra-class language-python linenums&quot;</span><span class="p">&gt;</span>import hello_world<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
</code></pre></div>
</div>
<p>When using Pygments, all extra classes and attributes will be attached to the Pygments' wrapper <code class="highlight"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span></code>.</p>
<p>When using a built in <a href="#custom-fences">custom formatter</a>, all classes and IDs are injected on to the first element
<code class="highlight"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span></code> or <code class="highlight"><span class="p">&lt;</span><span class="nt">pre</span><span class="p">&gt;</span></code>. This preserves previous behavior, but you can write your own and inject them in the
way that suites your needs.</p>
<div class="admonition new">
<p class="admonition-title">New 9.0</p>
<p>Added support for <code>#id</code> in Pygments brace headers. Also added support for arbitrary <code>data-</code> attributes if the
<a href="https://python-markdown.github.io/extensions/attr_list/"><code>attr_list</code></a> extension is enabled.</p>
</div>
<h2 id="preserve-tabs">Preserve Tabs<a class="headerlink" href="#preserve-tabs" title="Permanent link"></a></h2>
<p>Python Markdown has an approach where it normalizes whitespace. This means <code>\r\n</code> is converted to <code>\n</code> and <code>\t</code> is
converted to spaces. In 99% of Markdown, this is never really an issue, but with code blocks it can be. Tabs can
sometimes be very useful for aligning certain kinds of data, especially when dealing with characters of varying width.</p>
<div class="highlight"><span class="filename">Tabs in Content</span><pre><span></span><code>```
============================================================
T   Tp  Sp  D   Dp  S   D7  T
------------------------------------------------------------
A   F#m Bm  E   C#m D   E7  A
A#  Gm  Cm  F   Dm  D#  F7  A#
B♭  Gm  Cm  F   Dm  E♭m F7  B♭
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code>============================================================
T	Tp	Sp	D	Dp	S	D7	T
------------------------------------------------------------
A	F#m	Bm	E	C#m	D	E7	A
A#	Gm	Cm	F	Dm	D#	F7	A#
B♭	Gm	Cm	F	Dm	E♭m	F7	B♭
</code></pre></div>
</div>
<p>If you have a scenario where preserving tabs is a requirement, you can use SuperFences <code>preserve_tabs</code> option to prevent
converting tabs to spaces inside fenced code blocks. This <em>only</em> applies to fenced code blocks. Indented code blocks and
inline code blocks will still be treated with Python Markdown's default behavior.</p>
<p>This feature is experimental and actually applies the fences before whitespace normalization and bypasses the
normalization for the code content.</p>
<h2 id="code-highlighting">Code Highlighting<a class="headerlink" href="#code-highlighting" title="Permanent link"></a></h2>
<p>Assuming Pygments is installed, code highlighting will be handled by <a href="http://pygments.org/">Pygments</a> by default. If Pygments is not
installed, or disabled, code blocks will be created using HTML5 style tags for a JavaScript syntax highlighter:
<code class="highlight"><span class="p">&lt;</span><span class="nt">pre</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;highlight&quot;</span><span class="p">&gt;&lt;</span><span class="nt">code</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;language-mylanguage&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span></code>. If you disable <code>highlight_code</code>,
specified languages will be ignored, and the content will be wrapped in a simple <code>pre</code> and <code>code</code> tags with no classes.</p>
<p>Highlighting can be further controlled via the <a href="../highlight/"><code>pymdownx.highlight</code></a> extension. You must include
<code>pymdownx.highlight</code> in the extensions list in order to be able to configure it.</p>
<p>When using fenced code blocks, you can specify a specific syntax language to highlight with by specifying the language
name directly after the opening tokens (either <code>```</code> or <code>~~~</code>). Whether using Pygments or some other JavaScript
highlighter, the syntax is the same, but please consult your highlighter's documentation for recognized language syntax
specifiers.</p>
<div class="highlight"><span class="filename">Highlighting</span><pre><span></span><code>```python
import foo.bar
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">foo.bar</span>
</code></pre></div>
</div>
<h2 id="showing-line-numbers">Showing Line Numbers<a class="headerlink" href="#showing-line-numbers" title="Permanent link"></a></h2>
<p>Line numbers are provided via Pygments and can either be shown per code block or globally for all. To show globally via
<a href="../highlight/"><code>pymdownx.highlight</code></a>, you must set <code>linenums</code> to <code class="highlight"><span class="kc">True</span></code> in the respective extension.</p>
<p>To set line numbers per code block, you can specify a special setting directly after the opening tokens (and language if
present). Simply specify the starting line line number with option <code>linenums="1"</code>. The setting is followed by the equal
sign and the value must be quoted.  Valid line numbers are n &gt; 0.  If <code>linenums</code> is enabled globally, this will just
control the starting line shown in the block.</p>
<div class="highlight"><span class="filename">Line Numbers</span><pre><span></span><code>```{.python linenums=&quot;1&quot;}
import foo.bar
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="kn">import</span> <span class="nn">foo.bar</span>
</code></pre></div>
</div>
<p>And, if we wanted to start with a different starting line number, we would just specify something other than <code>1</code>.</p>
<div class="highlight"><span class="filename">Custom Line Number Start</span><pre><span></span><code>```{.python linenums=&quot;2&quot;}
import foo.bar
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="2 "></span><span class="kn">import</span> <span class="nn">foo.bar</span>
</code></pre></div>
</div>
<p>Pygments also has a few additional options in regards to line numbers. One is "line step" which, if set to a number n &gt;
1, will print only every n<sup>th</sup> line number. The other option is a setting that can mark line numbers as "special" with a
span and class <code>special</code>. If the special parameter is set to a number n &gt; 0, every n<sup>th</sup> line number is given the CSS
class <code>special</code>.</p>
<p>So to set showing only every other line number, we could do the following. Line options are separated by a space, and
"line step" is always the second option, so you must specify line start before line step.</p>
<div class="highlight"><span class="filename">N<sup>th</sup> Line</span><pre><span></span><code>``` {.python linenums=&quot;1 2&quot;}
&quot;&quot;&quot;Some file.&quot;&quot;&quot;
import foo.bar
import boo.baz
import foo.bar.baz
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="  "></span><span class="sd">&quot;&quot;&quot;Some file.&quot;&quot;&quot;</span>
<span class="linenos" data-linenos="2 "></span><span class="kn">import</span> <span class="nn">foo.bar</span>
<span class="linenos" data-linenos="  "></span><span class="kn">import</span> <span class="nn">boo.baz</span>
<span class="linenos" data-linenos="4 "></span><span class="kn">import</span> <span class="nn">foo.bar.baz</span>
</code></pre></div>
</div>
<p>To set every other line as special, you must set the third <code>linenums</code> option (specify line start and step before it).
Special must be a value of n &gt; 0. Additionally, you can set this globally with <code>linenums_special</code> in the
<a href="../highlight/">Highlight extension</a>.</p>
<div class="highlight"><span class="filename">Special Lines</span><pre><span></span><code>``` {linenums=&quot;1 1 2&quot;}
&quot;&quot;&quot;Some file.&quot;&quot;&quot;
import foo.bar
import boo.baz
import foo.bar.baz
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>&quot;&quot;&quot;Some file.&quot;&quot;&quot;
<span class="linenos special" data-linenos="2 "></span>import foo.bar
<span class="linenos" data-linenos="3 "></span>import boo.baz
<span class="linenos special" data-linenos="4 "></span>import foo.bar.baz
</code></pre></div>
</div>
<p>For JavaScript libraries, a class of <code>linenums</code> is written to the block.  This may or may not be leveraged by your
chosen highlighter.  It is uncertain at this time whether line number support for JavaScript highlighters will be
enhanced beyond this.w what to inject.</p>
<h2 id="highlighting-lines">Highlighting Lines<a class="headerlink" href="#highlighting-lines" title="Permanent link"></a></h2>
<p>Via Pygments, certain lines can be specified for highlighting.  This is done by specifying a special setting directly
after the opening tokens (and language if present).  The setting is named <code>hl_lines</code> and the value should be the
targeted line numbers separated by spaces.</p>
<div class="highlight"><span class="filename">Highlight Lines</span><pre><span></span><code>```{.python hl_lines=&quot;1 3&quot;}
&quot;&quot;&quot;Some file.&quot;&quot;&quot;
import foo.bar
import boo.baz
import foo.bar.baz
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><span class="hll"><span class="sd">&quot;&quot;&quot;Some file.&quot;&quot;&quot;</span>
</span><span class="kn">import</span> <span class="nn">foo.bar</span>
<span class="hll"><span class="kn">import</span> <span class="nn">boo.baz</span>
</span><span class="kn">import</span> <span class="nn">foo.bar.baz</span>
</code></pre></div>
</div>
<p>Line numbers are always referenced starting at 1 ignoring what the line number is labeled as when showing line numbers.</p>
<div class="highlight"><span class="filename">Highlight Lines with Line Numbers</span><pre><span></span><code>```{.py3 hl_lines=&quot;1 3&quot; linenums=&quot;2&quot;}
&quot;&quot;&quot;Some file.&quot;&quot;&quot;
import foo.bar
import boo.baz
import foo.bar.baz
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><span class="hll"><span class="linenos" data-linenos="2 "></span><span class="sd">&quot;&quot;&quot;Some file.&quot;&quot;&quot;</span>
</span><span class="linenos" data-linenos="3 "></span><span class="kn">import</span> <span class="nn">foo.bar</span>
<span class="hll"><span class="linenos" data-linenos="4 "></span><span class="kn">import</span> <span class="nn">boo.baz</span>
</span><span class="linenos" data-linenos="5 "></span><span class="kn">import</span> <span class="nn">foo.bar.baz</span>
</code></pre></div>
</div>
<p>If you'd like to do a range of lines, you can use the notation <code>x-y</code> where <code>x</code> is the starting line and <code>y</code> is the
ending line. You can do multiple ranges and even mix them with non ranges.</p>
<div class="highlight"><span class="filename">Highlight Ranges</span><pre><span></span><code>```{.py3 hl_lines=&quot;1-2 5 7-8&quot;}
import foo
import boo.baz
import foo.bar.baz

class Foo:
   def __init__(self):
       self.foo = None
       self.bar = None
       self.baz = None
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code><span class="hll"><span class="kn">import</span> <span class="nn">foo</span>
</span><span class="hll"><span class="kn">import</span> <span class="nn">boo.baz</span>
</span><span class="kn">import</span> <span class="nn">foo.bar.baz</span>

<span class="hll"><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
</span>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="hll">       <span class="bp">self</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="kc">None</span>
</span><span class="hll">       <span class="bp">self</span><span class="o">.</span><span class="n">bar</span> <span class="o">=</span> <span class="kc">None</span>
</span>       <span class="bp">self</span><span class="o">.</span><span class="n">baz</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
</div>
<h2 id="code-block-title-headers">Code Block Title Headers<a class="headerlink" href="#code-block-title-headers" title="Permanent link"></a></h2>
<div class="admonition new">
<p class="admonition-title">New 9.0</p>
<p>Title headers are new in version <code>9.0</code>.</p>
</div>
<p>When Pygments is enabled, a header with a title can be applied with the <code>title</code> option. This essentially controls the
Pygments' <code>filename</code> option under the hood. It made more sense to use the term <code>title</code> as people can really set any
arbitrary title, not just filenames.</p>
<p>Pygments will simply output the HTML below. The user is responsible for provided CSS to style the header. Pygments uses
the class name of <code>filename</code> as that is the feature being used under the hood.</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;highlight&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;filename&quot;</span><span class="p">&gt;</span>Some Title<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">pre</span><span class="p">&gt;&lt;</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>If using line numbers and the <code>linenums_style</code> set to <code>table</code> (the default), the title will be inserted in <code class="highlight"><span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span></code>
element at the start of the table set to span both the line number column and the line column.</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;highlight&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;highlighttable&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">th</span> <span class="na">colspan</span><span class="o">=</span><span class="s">&quot;2&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;filename&quot;</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;filename&quot;</span><span class="p">&gt;</span>My title<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">td</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;linenos&quot;</span><span class="p">&gt;&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;linenodiv&quot;</span><span class="p">&gt;&lt;</span><span class="nt">pre</span><span class="p">&gt;&lt;</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;normal&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">td</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;code&quot;</span><span class="p">&gt;&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;highlight&quot;</span><span class="p">&gt;&lt;</span><span class="nt">pre</span><span class="p">&gt;&lt;</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<div class="highlight"><span class="filename">Adding Titles</span><pre><span></span><code>```{.py3 title=&quot;My Cool Header&quot;}
import foo.bar
import boo.baz
import foo.bar.baz
```
</code></pre></div>
<div class="result">
<div class="highlight"><span class="filename">My Cool Header</span><pre><span></span><code><span class="kn">import</span> <span class="nn">foo.bar</span>
<span class="kn">import</span> <span class="nn">boo.baz</span>
<span class="kn">import</span> <span class="nn">foo.bar.baz</span>
</code></pre></div>
</div>
<p>If the <code>auto_title</code> option is enabled in the <a href="../highlight/">Highlight extension</a>, the title will be auto populated
with the name of the lexer used to highlight the code (unless <code>title</code> is manually specified). In the example below,
no <code>title</code> is specified, but the the title is extracted from the Python lexer.</p>
<div class="highlight"><span class="filename">Automatic Titles</span><pre><span></span><code>```python
import foo.bar
import boo.baz
import foo.bar.baz
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code>---
extensions:
- pymdownx.highlight
- pymdownx.superfences

extension_configs:
  pymdownx.highlight:
    auto_title: true
---
```python
import foo.bar
import boo.baz
import foo.bar.baz
```
</code></pre></div>
</div>
<p>There may be some cases where a Lexer returns a result that is undesired. For example, when a user specifies the <code>pycon</code>
lexer, the title that is returned is quite verbose.</p>
<div class="highlight"><span class="filename">Undesired Automatic Title</span><pre><span></span><code>```pycon
&gt;&gt;&gt; 3 + 3
6
```
</code></pre></div>
<div class="result">
<div class="highlight"><pre><span></span><code>---
extensions:
- pymdownx.highlight
- pymdownx.superfences

extension_configs:
  pymdownx.highlight:
    auto_title: true
---
```pycon
&gt;&gt;&gt; 3 + 3
6
```
</code></pre></div>
</div>
<p>In a case like above, it may be desired to simply use the title <code>Python</code>. We can configure the <a href="../highlight/">Highlight extension</a>
to override any auto returned title. Simply create mapping via the <code>auto_title_map</code> specifying the title you wish to
override as the key, and the desired title as the value.</p>
<div class="highlight"><pre><span></span><code><span class="n">extension_configs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;pymdownx.highlight&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;auto_title&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s2">&quot;auto_title_map&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;Python Console Session&quot;</span><span class="p">:</span> <span class="s2">&quot;Python&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Now whenever we use <code>pycon</code>, we get "Python" instead of "Python Console Session".</p>
<div class="highlight"><pre><span></span><code>---
extensions:
- pymdownx.highlight
- pymdownx.superfences

extension_configs:
  pymdownx.highlight:
    auto_title: true
    auto_title_map: {&quot;Python Console Session&quot;: &quot;Python&quot;}
---
```pycon
&gt;&gt;&gt; 3 + 3
6
```
</code></pre></div>
<h2 id="pygments-line-anchors-and-spans">Pygments Line Anchors and Spans<a class="headerlink" href="#pygments-line-anchors-and-spans" title="Permanent link"></a></h2>
<div class="admonition new">
<p class="admonition-title">New 9.0</p>
<p>The various line wrapping options are new to version <code>9.0</code>.</p>
</div>
<p>Pygments offers a couple of options that will wrap lines, line numbers even create anchor links for line numbers.
SuperFences, when using Pygments, exposes these options under similar names.</p>
<p>In this example, we will wrap each line of code in a span. Pygments will create an ID for each span using the prefix
that we provide. We simply set the global config option <code>line_spans</code> and specify the desired "prefix" (<code>_codeline</code>), and
then every line will be wrapped in a span with the ID <code>prefix-x-y</code> where <code>prefix</code> is the user specified prefix, <code>x</code> is a
unique number for the code block, and <code>y</code> is the line number. After that, it is up to the user to do as they with to
target the ID with either JavaScript and/or CSS.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Config</label><label for="__tabbed_1_2">Markdown</label><label for="__tabbed_1_3">HTML</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">extension_configs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;pymdownx.highlight&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;linenums_style&#39;</span><span class="p">:</span> <span class="s1">&#39;inline&#39;</span><span class="p">,</span>
        <span class="s1">&#39;line_spans&#39;</span><span class="p">:</span> <span class="s1">&#39;__codeline&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>```{.python linenums=&quot;1 1&quot; }
import foo
```
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;highlight&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">pre</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">code</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;__codeline-0-1&quot;</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;linenos&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;kn&quot;</span><span class="p">&gt;</span>import<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nn&quot;</span><span class="p">&gt;</span>foo<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
</div>
</div>
</div>
<p>We can also wrap line numbers with with a link and inject anchors so you can click line numbers and be taken to said
line. To do this, <code>anchor_linenums</code> must be enabled and then a prefix should be provided via <code>line_anchors</code>, just like
<code>line_spans</code>, <code>line_anchors</code> will produce an ID in the form <code>prefix-x-y</code> where <code>x</code> is a unique number for the code block
and <code>y</code> is the line number. If you wish to not have the line numbers clickable, and just have the anchors inserted,
you can omit enabling <code>anchor_linenums</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Config</label><label for="__tabbed_2_2">Markdown</label><label for="__tabbed_2_3">HTML</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">extension_configs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;pymdownx.highlight&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;linenums_style&#39;</span><span class="p">:</span> <span class="s1">&#39;inline&#39;</span><span class="p">,</span>
        <span class="s1">&#39;line_spans&#39;</span><span class="p">:</span> <span class="s1">&#39;__codeline&#39;</span><span class="p">,</span>
        <span class="s1">&#39;line_anchors&#39;</span><span class="p">:</span> <span class="s1">&#39;__codelineno&#39;</span><span class="p">,</span>
        <span class="s1">&#39;anchor_linenums&#39;</span><span class="p">:</span> <span class="kc">True</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>```{.python linenums=&quot;1 1&quot; }
import foo
```
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;highlight&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">pre</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">code</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;__codeline-0-1&quot;</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;__codelineno-0-1&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;__codelineno-0-1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#__codelineno-0-1&quot;</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;linenos&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;kn&quot;</span><span class="p">&gt;</span>import<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nn&quot;</span><span class="p">&gt;</span>foo<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="custom-fences">Custom Fences<a class="headerlink" href="#custom-fences" title="Permanent link"></a></h2>
<p>SuperFences allows defining custom fences for special purposes. For instance, we could create special fences for
diagrams that we could later run Mermaid on.</p>
<div class="highlight"><span class="filename">Flow Chart</span><pre><span></span><code>```diagram
graph TD
    A[Hard] --&gt;|Text| B(Round)
    B --&gt; C{Decision}
    C --&gt;|One| D[Result 1]
    C --&gt;|Two| E[Result 2]
```
</code></pre></div>
<div class="result">
<pre class="diagram"><code>graph TD
    A[Hard] --&gt;|Text| B(Round)
    B --&gt; C{Decision}
    C --&gt;|One| D[Result 1]
    C --&gt;|Two| E[Result 2]</code></pre>
</div>
<p>This would allow us access to all the diagrams Mermaid offers. Some Mermaid diagrams are less practical to use as they
don't scale well, but many work great.</p>
<p>In the above example, we have set up a custom fence called <code>diagram</code> which allows us to process special charts with
<a href="https://mermaid-js.github.io/mermaid/#/">Mermaid</a>. In this case, our special fence preserves the content and sends them to a an element so that
<a href="https://mermaid-js.github.io/mermaid/#/">Mermaid</a> can then find them and convert them when the document is loaded. To learn more see <a href="#uml-diagram-example">UML Diagram
Example</a>.</p>
<p>Custom fences are created via the <code>custom_fences</code> option.  <code>custom_fences</code> takes an array of dictionaries where each
dictionary defines a custom fence. The dictionaries require the following keys:</p>
<table>
<thead>
<tr>
<th>Keys</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>The language name that is specified when using the fence in Markdown. If given <code>*</code>, it will override the base fence logic, the default for all fence names not handled by other custom fences.</td>
</tr>
<tr>
<td><code>class</code></td>
<td>The class name assigned to the HTML element when converting from Markdown to HTML.</td>
</tr>
<tr>
<td><code>format</code></td>
<td>A function that formats the HTML output. The function should return a string as HTML.</td>
</tr>
<tr>
<td><code>validator</code></td>
<td>An optional parameter that is used to provide a function to validate custom fence parameters.</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Logging</p>
<p>When a custom fence fails, the error will be swallowed up and the error will be handled gracefully. If logging is
desired, custom logging should be added into the custom function. SuperFences will not provide any.</p>
</div>
<div class="admonition new">
<p class="admonition-title">New in 7.0</p>
<p>Starting in 7.0, you can override the base fence logic (the syntax highlighter) by specifying the custom fence
with a name of <code>*</code>. This means that if a fence does not match any other custom fences, the default, fallback fence
would be handled by your custom <code>*</code> fence. This can be useful for tailoring a fence output with custom parameters
for a specific, favorite JavaScript highlighter.</p>
</div>
<h3 id="formatters">Formatters<a class="headerlink" href="#formatters" title="Permanent link"></a></h3>
<p>SuperFences provides two format functions by default, but you can always write your own:</p>
<table>
<thead>
<tr>
<th>Format&nbsp;Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>superfences.fence_code_format</code></td>
<td>Places the HTML escaped content of the fence under a <code class="highlight"><span class="p">&lt;</span><span class="nt">pre</span><span class="p">&gt;&lt;</span><span class="nt">code</span><span class="p">&gt;</span></code> block.</td>
</tr>
<tr>
<td><code>superfences.fence_div_format</code></td>
<td>Places the HTML escaped content of the fence under a <code class="highlight"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span></code> block.</td>
</tr>
</tbody>
</table>
<p>In general, formatters take five parameters: the source found between the fences, the specified language, the class name
originally defined via the <code>class</code> option in the <code>custom_fence</code> entry, custom options, additional classes defined in
brace style headers, an optional ID, any attributes defined in the brace style header, and the Markdown object (in case
you want access to meta data etc.).</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">custom_formatter</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">css_class</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">md</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">id_value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">string</span>
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">custom_formatter</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">css_class</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">md</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">string</span>
</code></pre></div>
<p>All formatters should return a string as HTML.</p>
<div class="admonition tip">
<p class="admonition-title">YAML Configuration Format</p>
<p>If you are attempting to configure these options in a YAML based configuration (like in <a href="https://github.com/mkdocs/mkdocs">MkDocs</a>), please
see the <a href="../../faq/#function-references-in-yaml"><abbr title="Frequent Asked Questions">FAQ</abbr></a> to see how to specify function references in YAML.</p>
</div>
<div class="admonition new">
<p class="admonition-title">New 7.0</p>
<p>The addition of the parameters <code>classes</code> and <code>id_value</code> is new in 7.0. If injecting additional classes or ids via
<a href="#injecting-classes-and-ids">brace headers</a>, only then will <code>classes</code> and <code>id_value</code> be passed in to preserve
backwards compatibility with old custom formatters. Users, moving forward, should at the very least update their
formatters with <code>**kwargs</code> to future proof their custom formatters in case additional parameters are added in the
future.</p>
</div>
<div class="admonition new">
<p class="admonition-title">Changes 8.0</p>
<p>Formatters now take the keyword parameter <code>attrs</code>.</p>
</div>
<h3 id="validators">Validators<a class="headerlink" href="#validators" title="Permanent link"></a></h3>
<p>The <code>validator</code> is used to provide a function that allows the validation of inputs. Inputs are then sorted to either
<code>attrs</code> or <code>options</code>. While a <code>formatter</code> can treat <code>attrs</code> and <code>options</code> however they like, the intention is that key
value pairs assigned to <code>attrs</code> are assigned directly to the fenced block's element, while <code>options</code> are used to
conditionally control logic within the formatter. If no validator is defined, the default is used which assigns all
inputs to <code>attrs</code>.</p>
<p>SuperFences will only pass <code>attrs</code> to a formatter if an attribute style header is used for a fenced block
(<code>``` {.lang attr="value"}</code>) and the <a href="https://python-markdown.github.io/extensions/attr_list/"><code>attr_list</code></a> extension is enabled. Attribute are not supported in the
form (<code>```lang attr=value</code>) and will cause the parsing of the fenced block to abort.</p>
<p>Custom options can be used as keys with quoted values (<code>key="value"</code>), or as keys with no value (<code>key</code>). If a key is
given with no value, the value will be the key value. SuperFences will parse the options in the fence and then pass them
to the validator. If the validator returns true, the options will be accepted and later passed to the formatter. <code>attrs</code>
will only be passed to the formatter if the <a href="https://python-markdown.github.io/extensions/attr_list/"><code>attr_list</code></a> extension is enabled. <code>attrs</code> will also be ignored
during Pygments highlighting.</p>
<p>Assuming a validator fails, the next <code>validator</code>/<code>formatter</code> defined will be tried.</p>
<p>For a contrived example: if we wanted to define a custom fence named <code>test</code> that accepts an option <code>opt</code> that can only
be assigned a value of <code>A</code>, we could define the validator below. Notice that if we get an input that matches <code>opt</code>, but
doesn't validate with the appropriate value, we abort handling the fenced block for this <code>validator</code>/<code>formatter</code> by
returning <code>False</code>. All other inputs are assigned as <code>attrs</code> which will be passed to the formatter if the
<a href="https://python-markdown.github.io/extensions/attr_list/"><code>attr_list</code></a> extension is enabled.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">custom_validator</span><span class="p">(</span><span class="n">language</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">md</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom validator.&quot;&quot;&quot;</span>

    <span class="n">okay</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s1">&#39;opt&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">v</span> <span class="o">!=</span> <span class="s2">&quot;A&quot;</span><span class="p">:</span>
                <span class="n">okay</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">options</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">attrs</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

    <span class="k">return</span> <span class="n">okay</span>
</code></pre></div>
<p>Assuming validation passed, the formatter would be given the option and any attributes (though the formatter below
doesn't use the attributes).</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">custom_format</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">class_name</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">md</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom format.&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="s1">&#39;&lt;div class_name=&quot;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&quot;, data-option=&quot;</span><span class="si">%s</span><span class="s1">&quot;&gt;</span><span class="si">%s</span><span class="s1">&lt;/div&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">language</span><span class="p">,</span> <span class="n">class_name</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="s1">&#39;opt&#39;</span><span class="p">],</span> <span class="n">html_escape</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>
</code></pre></div>
<p>This would allow us to use the following custom fence:</p>
<div class="highlight"><pre><span></span><code>```{.test opt=&quot;A&quot;}
test
```
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">YAML Configuration Format</p>
<p>If you are attempting to configure these options in a YAML based configuration (like in <a href="https://github.com/mkdocs/mkdocs">MkDocs</a>), please
see the <a href="../../faq/#function-references-in-yaml"><abbr title="Frequent Asked Questions">FAQ</abbr></a> to see how to specify function references in YAML.</p>
</div>
<div class="admonition new">
<p class="admonition-title">Changes 8.0</p>
<ul>
<li><code>validator</code> now accepts the following variables:<ul>
<li><code>inputs</code>: with all the parsed options/attributes (validator should not modify this structure).</li>
<li><code>options</code>: a dictionary to which all valid options should be assigned to.</li>
<li><code>attrs</code>: a dictionary to which all valid attributes should be assigned to.</li>
<li><code>md</code>: the <code>Markdown</code> object.</li>
</ul>
</li>
<li>If the <a href="https://python-markdown.github.io/extensions/attr_list/"><code>attr_list</code></a> extension is enabled and the brace style header is used, any key/value pairs that
  were assigned as attributes by the <code>validator</code> will be passed to the <code>formatter</code>'s <code>attrs</code> parameter.</li>
<li>Options in the form of <code>key=</code> (which have no value) will are no longer be allowed. A <code>key</code> with no value will
  assume the <code>value</code> to be the <code>key</code> name. This brings consistency as options are now parsed with
  <a href="https://python-markdown.github.io/extensions/attr_list/"><code>attr_list</code></a>.</li>
<li>If a <code>validator</code> fails, the next <code>validator</code>/<code>formatter</code> pair will be tired.</li>
</ul>
</div>
<h3 id="exception-handling">Exception Handling<a class="headerlink" href="#exception-handling" title="Permanent link"></a></h3>
<p>In general, if an exception occurs in either a validator or a formatter, SuperFences will gracefully ignore the
validator or formatter. In the case of validators, this usually means it will try the next validator in the line. In the
case of a formatter, the fenced content will just be abandoned as we are already past the point of "validating" and will
not go back to validate the use of a different formatter.</p>
<p>Some users may want such failures to not silently go by. SuperFences exposes a special exception called
<code>SuperFencesException</code> which, if raised, will not gracefully be handled. If <code>SuperFencesException</code> is raised, this will
likely bubble all the way up and cause Markdown parsing to halt. <code>SuperFencesException</code> can be used to to raise other
exceptions if desired.</p>
<p>Here we have a contrived example. When no options are provided in this validator, we will try and access a non-existent
key in the validator which will throw a <code>KeyError</code>. In this case, we capture the <code>KeyError</code> and raise it with
<code>SuperFencesException</code>. This will display the <code>SuperFencesException</code> <strong>and</strong> the original <code>KeyError</code> when the failure
occurs:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">custom_validator_except</span><span class="p">(</span><span class="n">language</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">md</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom validator.&quot;&quot;&quot;</span>

    <span class="n">okay</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s1">&#39;opt&#39;</span><span class="p">:</span>
                <span class="n">okay</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">break</span>
        <span class="k">if</span> <span class="n">okay</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;opt&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;A&quot;</span><span class="p">:</span>
                <span class="n">okay</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">options</span><span class="p">[</span><span class="s1">&#39;opt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s1">&#39;opt&#39;</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">SuperFencesException</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">return</span> <span class="n">okay</span>
</code></pre></div>
<div class="admonition new">
<p class="admonition-title">New 9.2</p>
<p><code>SuperFencesException</code> added in 9.2</p>
</div>
<h3 id="uml-diagram-example">UML Diagram Example<a class="headerlink" href="#uml-diagram-example" title="Permanent link"></a></h3>
<div class="admonition warning">
<p class="admonition-title">Support</p>
<p>This example is mainly used to illustrate how custom fences work. While Mermaid is used in the example, it is the
bare minimum needed to get diagrams working.</p>
<p>Please reference <a href="https://mermaid-js.github.io/mermaid/#/">Mermaid's</a> documents for more information on configuring features. PyMdown Extensions
does not offer direct support for issues you may have in using <a href="https://mermaid-js.github.io/mermaid/#/">Mermaid</a>, feel free to use their issue
tracker to report problems with their library.</p>
<p>We do provide some <a href="../../extras/mermaid/">advanced notes on Mermaid</a> if you are interested in learning how we use
and configure it in our own documentation.</p>
</div>
<p>This example illustrates how you can use the <code>custom_fences</code> option to do UML diagrams with <a href="https://mermaid-js.github.io/mermaid/#/">Mermaid</a>. The
settings below show us creating a new custom fence called <code>mermaid</code>. The special fence is set under the <code>custom_fences</code>
<a href="#options">option</a>.</p>
<p>The <code>mermaid</code> fences will pass the content through the <code>superfences.fence_div_format</code> format function which will wrap
the content in <code class="highlight"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span></code> blocks and attach the class <code>mermaid</code> to the <code class="highlight"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span></code> block.</p>
<div class="highlight"><pre><span></span><code><span class="n">extension_configs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;pymdownx.superfences&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;custom_fences&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;mermaid&#39;</span><span class="p">,</span>
                <span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;mermaid&#39;</span><span class="p">,</span>
                <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="n">pymdownx</span><span class="o">.</span><span class="n">superfences</span><span class="o">.</span><span class="n">fence_div_format</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>This would allow a user to create fenced blocks with the <code>mermaid</code> specifier:</p>
<div class="highlight"><pre><span></span><code>```mermaid
...content here
```
</code></pre></div>
<p>The format function we used in this example only escapes the content to be included in HTML. We will rely on the
<a href="https://mermaid-js.github.io/mermaid/#/">Mermaid</a> JavaScript library to render our flowcharts/diagrams in the browser. <a href="https://mermaid-js.github.io/mermaid/#/">Mermaid</a>, on load,
will automatically find the <code class="highlight"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span></code> elements with the <code>mermaid</code> class and render them. We can include
<a href="https://mermaid-js.github.io/mermaid/#/">Mermaid</a> via its CDN.</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<h2 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Permanent link"></a></h2>
<p>This extension suffers from some of the same quirks that the original fenced block extension suffers from.  Normally
Python Markdown does not parse content inside HTML tags unless they are marked with the attribute <code>markdown='1'</code>.  But
since this is run as a preprocessor, it is not aware of the HTML blocks.</p>
<p>SuperFences is made to work with the default extensions out of the box.  It will probably not work with other extensions
such as Grid Tables, since that extension allows for characters to obscure the blocks like the blockquote syntax does
(though this has been designed to work with blockquotes).  Ideally fenced blocks need to be handled by a block parser,
but there is much work to be done on Python Markdown's internal block handlers before this is possible.</p>
<p>SuperFences works best when following the guidelines.  If the guidelines are not followed, odd results may be
encountered.</p>
<p>For the reasons above, the nested fences feature really is just a workaround.  But for a lot of people, this
functionality is more than sufficient.</p>
<h2 id="options">Options<a class="headerlink" href="#options" title="Permanent link"></a></h2>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>css_class</code></td>
<td>string</td>
<td><code class="highlight"><span class="s1">&#39;&#39;</span></code></td>
<td>Class name is applied to the wrapper element of the code. If configured, this setting will override the <code>css_class</code> option of Highlight. If nothing is configured here or in Highlight, the class <code>highlight</code> will be used.</td>
</tr>
<tr>
<td><code>disable_indented_code_blocks</code></td>
<td>bool</td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>Disables Python Markdown's indented code block parsing.  This is nice if you only ever use fenced blocks.</td>
</tr>
<tr>
<td><code>custom_fences</code></td>
<td>[dictionary]</td>
<td><code class="highlight"><span class="p">[]</span></code></td>
<td>Custom fences.</td>
</tr>
<tr>
<td><code>preserve_tabs</code></td>
<td>bool</td>
<td><code class="highlight"><span class="kc">False</span></code></td>
<td>Experimental feature that preserves tabs in fenced code blocks.</td>
</tr>
</tbody>
</table>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.indexes", "toc.follow", "content.tabs.link", "search.share", "search.highlight", "search.suggest", "content.code.copy", "content.code.annotations"], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.fac441b0.min.js"></script>
      
    
  </body>
</html>